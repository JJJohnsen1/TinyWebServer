
http连接处理类
===============
根据状态转移,通过主从状态机封装了http连接类。其中,主状态机在内部调用从状态机,从状态机将处理状态和数据传给主状态机
> * 客户端发出http连接请求
> * 从状态机读取数据,更新自身状态和接收数据,传给主状态机
> * 主状态机根据从状态机状态,更新自身状态,决定响应请求还是继续读取

## epoll

## ET,LT,EPOLLONESHOT
1. 水平触发（LT, Level Triggered）:只要 fd 还有未处理的数据，每次 epoll_wait() 都会返回该 fd 事件。
特性
默认触发模式，类似 select/poll。
只要 fd 上的数据未被处理完，每次 epoll_wait() 都会返回该事件。
适用于普通阻塞/非阻塞 I/O。

2. 边缘触发（ET, Edge Triggered）
只有 fd 的状态发生“变化”（从不可读变可读，从不可写变可写）时，才触发事件。
特性
高效（比 LT 更少的系统调用），但必须使用非阻塞 I/O (O_NONBLOCK)，否则可能丢失事件。
适用于高并发服务器（如 Nginx）。
只在 fd 状态变化时触发，如果 read/write 没有一次性处理完所有数据，不会再次触发，需要手动轮询。
ET 模式必须配合 O_NONBLOCK 使用，否则 read() 可能因无数据阻塞，导致程序卡死

3. EPOLLONESHOT（单次触发）
事件触发后，epoll_wait() 不会再次返回该 fd，除非重新 epoll_ctl(EPOLL_CTL_MOD)。
特性
用于防止多线程重复处理同一 fd。
适用于多线程服务器（ET 模式 + EPOLLONESHOT 结合使用）。
事件触发后，需要手动重新注册，否则 epoll_wait() 不会再返回该 fd。